<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.opple.fa.allocation.dao.SapCostCenterPersonDAO">
    <sql id="pagination_Head" >
        <![CDATA[select * from ( select row_.*, rownum rownum_ from ( ]]>
    </sql>
    <!-- oracle 分页尾 -->
    <sql id="pagination_Tail">
        <![CDATA[) row_ where rownum <= #{pager.pageSize}* #{pager.offset} ) where rownum_ >= #{pager.firstResult} + 1]]>
    </sql>
    <!-- count * from -->
	<sql id="count_Start_Head">
		<![CDATA[select count(*) from ( ]]>
	</sql>
	<sql id="count_Start_Tail">
		<![CDATA[) countObj ]]>
	</sql>
	<resultMap type="com.opple.fa.allocation.entity.SapCostCenterPerson" id="sapCostCenterPersonMap">
			<result property="costCenterCode" column="CCOSTCENTERCODE"/>
			<result property="costCenterName" column="CCOSTCENTERNAME"/>
			<result property="head" column="CHEAD"/>
			<result property="headName" column="CHEADNAME"/>
			<result property="status" column="CSTATUS"/>
	</resultMap>
	<select id="serachSapCostCenterPerson" resultMap="sapCostCenterPersonMap"> 
			select 
			CHEAD,
			CHEADNAME
			FROM T_SAP_COSTCENTER WHERE CCOSTCENTERCODE in
			<foreach collection="listCostCenterCode" item="sapCost" index="index" open="(" close=")" separator=",">
			#{sapCost}
			</foreach>
			
			 AND CSTATUS='Y' 
			 group by CHEAD,CHEADNAME
	</select>
</mapper>	