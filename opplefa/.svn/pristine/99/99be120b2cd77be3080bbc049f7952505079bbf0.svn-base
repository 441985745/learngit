<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.opple.fa.config.dao.CompanyDepCostcenterDAO">
    <!-- oracle 分页头 -->
    <sql id="pagination_Head" >
        <![CDATA[select * from ( select row_.*, rownum rownum_ from ( ]]>
    </sql>
    <!-- oracle 分页尾 -->
    <sql id="pagination_Tail">
        <![CDATA[) row_ where rownum <= #{pager.pageSize}* #{pager.offset} ) where rownum_ >= #{pager.firstResult} + 1]]>
    </sql>
    <!-- count * from -->
	<sql id="count_Start_Head">
		<![CDATA[select count(*) from ( ]]>
	</sql>
	<sql id="count_Start_Tail">
		<![CDATA[) countObj ]]>
	</sql>
	<resultMap id="companyDepCostcenterMap" type="com.opple.fa.config.entity.CompanyDepCostcenter">
        <result property="costCenterCode" column="CCOSTCENTERCODE"/>
        <result property="costCenterName" column="CCOSTCENTERNAME"/>
        <result property="depCode" column="CDEPCODE"/>
        <result property="depName" column="CDEPNAME"/>
        <result property="companyCode" column="CCOMPANYCODE"/>
        <result property="companyName" column="COMPANY_NAME"/>
	</resultMap>
	<select id="serachCompanyDepCostcenter" parameterType="com.opple.fa.config.entity.CompanyDepCostcenter" resultMap="companyDepCostcenterMap">
	select 
        dpc.CCOSTCENTERCODE,
        dpc.CCOSTCENTERNAME,
        dpc.CCOMPANYCODE,
        cy.CCOMPANYNAME as COMPANY_NAME
        from t_Sap_Costcenter dpc left join T_COMPANY cy ON dpc.CCOMPANYCODE=cy.CCOMPANYCODE where dpc.CCOSTCENTERCODE=#{costCenterCode}
	</select>
</mapper>